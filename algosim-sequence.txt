title AlgoSim

actor User

User->GW: POST /algoCode: load zip(?) with sources

note over GW:UUID assigned to sources

GW->Repo: POST /algoCode/{id}
activate Repo
note over Repo,GW:sources are pushed to the repo
GW<-Repo:OK
deactivate Repo

abox over GW:id: QUEUED for COMPILING
note over GW:scheduling magic

GW->Compiler: POST /compile/{id}
activate Compiler
abox over GW:id: COMPILING
Compiler->Repo: GET /algoCode/{id}
activate Repo
note over Repo,Compiler:sources are fetched by id
Repo->Compiler: OK - sources
deactivate Repo
note over Compiler:compile time!
Compiler->Repo:POST /algoJar/{id}
activate Repo
note over Repo,Compiler:artifact is pushed to nexus
Repo->Compiler:OK
deactivate Repo
Compiler->GW:OK
deactivate Compiler

abox over GW:id: QUEUED for EXECUTING
note over GW:scheduling magic

GW->Executor: POST /compile/{id}
activate Executor
abox over GW:id: EXECUTING
Executor->Repo: GET /algoJar/{id}
activate Repo
note over Repo,Executor:artifact is fetched by id
Repo->Executor: OK - artifact
deactivate Repo
note over Compiler:benchmarking time!
Executor->Repo:POST /algoStatus/{id}
activate Repo
note over Repo,Executor:results are pushed to repo, status is changed
Repo->Executor:OK
deactivate Repo
Executor->GW:OK
deactivate Executor

abox over GW:id: BENCHMARKED
note over GW: that's all folks!